<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Programme - Journée Qualité de Vie au Travail (QVT) 2025</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Librairie pour la génération du QR Code -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    
    <!-- Chargement de la police pour le titre (Pacifico) en plus d'Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Pacifico&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: transparent; 
            position: relative;
        }
        .schedule-card {
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.5);
            z-index: 10;
            position: relative;
        }
        .time-slot {
            display: flex;
            align-items: center;
        }
        
        /* Styles pour la vidéo en arrière-plan */
        #video-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            object-fit: cover;
            z-index: -2;
        }

        /* --- Styles pour l'animation de titre manuscrite (SVG) --- */

        .handwritten-text {
            font-family: 'Pacifico', cursive;
            fill: none; /* Cache le remplissage initial */
            stroke: white; /* Couleur du trait de l'écriture */
            stroke-width: 1.5px; /* Épaisseur du trait */
            stroke-linecap: round;
            stroke-linejoin: round;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.4);
            
            /* Animation inspirée de l'effet "Hello" d'Apple :
               1. Stroke: 2.5s avec un cubic-bezier pour un effet élastique au tracé.
               2. Fill: 1.2s pour un remplissage doux. */
            transition: stroke-dashoffset 2.5s cubic-bezier(0.4, 0, 0.2, 1), 
                        fill 1.2s ease-out; 
        }

        /* Classe appliquée par JS pour démarrer l'animation de dessin */
        .drawn {
            stroke-dashoffset: 0 !important;
        }

        /* Classe appliquée par JS pour afficher le remplissage après le dessin */
        .filled {
            fill: white !important;
        }

        /* --- Styles pour l'animation de révélation au scroll des sections --- */

        .reveal-hidden {
            opacity: 0;
            transform: translateY(30px) scale(0.98);
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }

        .reveal-visible {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        /* 2. Animation de Pulse sur l'ombre (utilisée au survol) */
        @keyframes pulse-shadow {
            0%, 100% {
                box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            }
            50% {
                box-shadow: 0 6px 12px rgba(0, 0, 0, 0.25);
            }
        }
        
        /* 3. Animation d'impulsion pour le bouton GPS */
        @keyframes pulse-gps {
            0% {
                box-shadow: 0 0 0 0 rgba(37, 99, 235, 0.7); 
            }
            70% {
                box-shadow: 0 0 0 15px rgba(37, 99, 235, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(37, 99, 235, 0);
            }
        }

        /* NOUVEAU: Animation de l'impulsion de la flèche de footer */
        @keyframes pulse-arrow {
            0% {
                transform: translateY(0);
                opacity: 0.8;
            }
            50% {
                transform: translateY(5px);
                opacity: 1;
            }
            100% {
                transform: translateY(0);
                opacity: 0.8;
            }
        }
        .pulsing-arrow {
            display: inline-block;
            animation: pulse-arrow 1.5s infinite ease-in-out;
        }


        /* Application de l'effet dynamique au survol */
        .reveal-hidden:hover, .time-slot:hover {
            transform: scale(1.01); 
            transition: transform 0.2s ease-in-out;
            animation: pulse-shadow 1.5s infinite alternate; 
        }

        /* Classe pour le bouton d'itinéraire */
        .gps-button {
            animation: pulse-gps 1.8s infinite;
        }

        /* Classe pour les boutons secondaires (Agenda, Partage) */
        .action-icon-button {
            transition: all 0.2s ease-in-out;
            filter: drop-shadow(0 4px 4px rgba(0, 0, 0, 0.2));
        }
        .action-icon-button:hover {
            transform: scale(1.1);
            filter: drop-shadow(0 6px 6px rgba(0, 0, 0, 0.3));
        }
        
        /* Style du pied de page */
        .footer-style {
            background-color: #3f3f46; /* Zinc 700 */
            color: #d1d5db; /* Gray 300 */
            text-align: center;
            padding: 1rem 0;
            font-size: 0.875rem; /* text-sm */
            /* Ajout du flex pour centrer la flèche et le texte */
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* Style pour le mini lecteur audio flottant */
        #music-player {
            position: fixed;
            bottom: 1rem;
            right: 1rem;
            width: 150px; /* Largeur réduite pour un lecteur discret */
            height: 30px; /* Hauteur réduite */
            z-index: 1000;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
            border-radius: 9999px; /* rounded-full */
            overflow: hidden;
            transition: all 0.3s ease;
        }

        #music-player:hover {
            width: 250px; /* S'élargit au survol pour mieux voir les contrôles */
        }
        
        /* Assure que l'élément audio remplit le conteneur */
        #music-player audio {
            width: 100%;
            height: 100%;
        }
        
        /* Masquer la source (texte) du lecteur sur les petits écrans pour économiser de l'espace */
        @media (max-width: 640px) {
            #music-player {
                width: 40px;
                height: 40px;
            }
        }
        
        /* Style pour la section Remerciements Spéciaux */
        .thank-you-section {
            background-color: #fefce8; /* Jaune très clair */
            border-top: 3px solid #f97316; /* Orange 500 */
            border-bottom: 3px solid #f97316;
        }
        .thank-you-item {
            border: 1px solid #fde68a; /* Amber 200 */
            background-color: #fffbeb; /* Amber 50 */
        }
    </style>
</head>
<body class="p-4 sm:p-8">

    <!-- Vidéo en arrière-plan -->
    <video autoplay loop muted playsinline id="video-bg">
        <source src="https://raw.githubusercontent.com/KaporalClems/Borne_Digital_DSR/47c7e7bf7a481b45fc44ec63dc3a6390590230da/fotor_creation_2025-12-12.mp4" type="video/mp4">
        Votre navigateur ne supporte pas la balise vidéo.
    </video>

    <!-- Mini Lecteur Audio Flottant et Discret -->
    <div id="music-player" class="bg-white rounded-full">
        <audio controls loop id="bgMusic">
            <source src="https://github.com/KaporalClems/Journ-e-QVT-Dsr_2025/raw/fa1a29a2fa3973827846a30c2c0a834e2e5dbfdd/christmas-upbeat-257049.mp3" type="audio/mpeg">
            Votre navigateur ne supporte pas l'élément audio.
        </audio>
    </div>

    <div class="max-w-4xl mx-auto bg-white rounded-xl overflow-hidden schedule-card">
        <!-- Header (Festive Gradient: Deep Red to Maroon) -->
        <header class="bg-gradient-to-br from-red-900 via-red-700 to-red-900 p-8 text-white text-center rounded-t-xl relative overflow-hidden">
            <!-- Accent doré pour le fond -->
            <div class="absolute inset-0 bg-repeat opacity-10" style="background-image: url('data:image/svg+xml;utf8,<svg xmlns=&quot;http://www.w3.org/2000/svg&quot; width=&quot;15&quot; height=&quot;15&quot;><circle cx=&quot;7.5&quot; cy=&quot;7.5&quot; r=&quot;1&quot; fill=&quot;%23fef3c7&quot; /></svg>');"></div>

            <!-- Bouton de Partage (Icone) -->
            <button id="openShareModalBtn" title="Partager le Programme (QR Code)"
                class="action-icon-button absolute top-4 right-4 p-2 bg-white bg-opacity-20 hover:bg-opacity-40 rounded-full text-white transition duration-300 z-20">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M8.684 13.342C8.88 12.03 9.388 10.718 10.35 9.75a4.008 4.008 0 011.424-1.424c1.062-.39 2.14-.523 3.23-.423m-2.427 1.139a.75.75 0 00-1.06-1.06L6 18H3.75a.75.75 0 000 1.5h1.75a.75.75 0 00.56-.25L13.8 11.23a.75.75 0 00-.54-.23zM21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
            </button>
            
            <!-- REMOVED: Ancien bloc GIF -->

            <!-- Titre SVG animé au chargement de la page -->
            <svg class="w-full h-auto z-10 relative" viewBox="0 0 800 150" fill="none" xmlns="http://www.w3.org/2000/svg">
                
                <!-- Ligne 1: Journée Qualité de Vie au Travail -->
                <text id="svg-title-1" x="50%" y="55" 
                      dominant-baseline="middle" text-anchor="middle" 
                      class="handwritten-text"
                      style="font-size: 55px;">
                    Journée Qualité de Vie au Travail
                </text>

                <!-- Ligne 2: Édition de Fin d'Année -->
                <text id="svg-title-2" x="50%" y="115" 
                      dominant-baseline="middle" text-anchor="middle" 
                      class="handwritten-text text-xl sm:text-2xl"
                      style="font-size: 30px;">
                    Édition de Fin d'Année
                </text>
            </svg>
            
            <!-- NOUVEAU: Image GIF de lumières de Noël (demandée par l'utilisateur) -->
            <div class="flex justify-center p-2 mt-4 z-10 relative">
                <img 
                    src="https://usagif.com/wp-content/uploads/gify/christmas-lights-transparent-background-13-usagif.gif" 
                    alt="[Image GIF de guirlandes lumineuses de Noël animées]"
                    class="w-full h-20 object-contain rounded-lg" 
                    onerror="this.onerror=null;this.src='https://placehold.co/800x80/D32F2F/FFFFFF?text=GIF+de+Lumi%C3%A8res+Festives'"
                >
            </div>
            
        </header>

        <!-- General Information (Warm background) - Élément révélé au scroll -->
        <section class="p-6 bg-amber-50 border-b border-red-200 reveal-hidden">
            <p class="text-lg mb-4 text-gray-700">
                Chères et chers collègues,
                Nous avons le plaisir de vous présenter le programme détaillé de notre journée dédiée à la QVT.
            </p>

            <!-- Carousel d'Images du Lieu - Élément révélé au scroll -->
            <div id="imageCarousel" class="relative w-full mb-6 rounded-xl shadow-xl overflow-hidden reveal-hidden group" style="height: 300px;">
                <!-- Conteneur des images (Flex pour le défilement horizontal) -->
                <div id="carouselTrack" class="flex w-full h-full transition-transform duration-700 ease-in-out">
                    
                    <!-- Image 1 -->
                    <div class="carousel-slide flex-shrink-0 w-full h-full">
                        <img src="https://horizon-reunion.com/serve_picture/large/1613" 
                             alt="[Image du lieu : Piscine de la Villa Couleur K'Fé]" 
                             class="w-full h-full object-cover"
                             onerror="this.onerror=null;this.src='https://placehold.co/800x400/D32F2F/FFFFFF?text=Photo+du+Lieu+indisponible';">
                    </div>
                    
                    <!-- Image 2 -->
                    <div class="carousel-slide flex-shrink-0 w-full h-full">
                        <img src="https://www.com-saintpierre.com/data/Photos/OriginalPhoto/15875/1587533/1587533468/photo-couleurs-k-fe-saint-pierre-10.JPEG" 
                             alt="[Image du lieu : Intérieur de la Villa Couleur K'Fé]" 
                             class="w-full h-full object-cover"
                             onerror="this.onerror=null;this.src='https://placehold.co/800x400/D32F2F/FFFFFF?text=Photo+du+Lieu+indisponible';">
                    </div>
                    
                    <!-- Image 3 -->
                    <div class="carousel-slide flex-shrink-0 w-full h-full">
                        <img src="https://cf.bstatic.com/xdata/images/hotel/max1024x768/72934474.jpg?k=5dc5bd09dacf801977704773b1c52875f31b77a3a7f5587576834ddf9871ae63&o=" 
                             alt="[Image du lieu : Espace extérieur de la Villa Couleur K'Fé]" 
                             class="w-full h-full object-cover"
                             onerror="this.onerror=null;this.src='https://placehold.co/800x400/D32F2F/FFFFFF?text=Photo+du+Lieu+indisponible';">
                    </div>
                </div>
                
                <!-- Navigation Dots (Points Indicateurs) -->
                <div id="carouselDots" class="absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2">
                    <!-- Dots seront générés par JS -->
                </div>
                
                <!-- Figcaption (Affichée en bas) -->
                <div class="absolute bottom-0 left-0 w-full text-center text-xs italic text-white p-2 bg-black bg-opacity-40">
                    Notre lieu d'accueil : La Villa Couleur K’Fé. Découvrez les espaces en images.
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm font-medium">
                
                <!-- Date, Heure et Bouton Calendrier -->
                <div class="p-3 bg-white rounded-lg border border-red-400 flex flex-col justify-between">
                    <div>
                        <p class="text-red-800 font-bold flex items-center mb-1"><svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z" /></svg>Date & Heure :</p>
                        <p class="text-gray-900 font-semibold">Lundi 15 décembre 2025</p>
                        <p class="text-gray-700 italic text-xs mb-3">De 8h30 à 16h00</p>
                    </div>

                    <!-- Bouton Ajouter à Google Agenda (Vert) -->
                    <a href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=Journ%C3%A9e%20Qualit%C3%A9%20de%20Vie%20au%20Travail%20%E2%80%93%20%C9dition%20de%20Fin%20d%27Ann%C3%A9e&dates=20251215T083000/20251215T160000&details=Programme%20d%C3%A9taill%C3%A9%20de%20la%20journ%C3%A9e%20QVT%20%28Yoga%20du%20Rire%2C%20Ateliers%20cr%C3%A9atifs%2C%20D%C3%A9jeuner%2C%20Apr%C3%A8s-midi%20r%C3%A9cr%C3%A9ative%29.%0A%0AAdresse%20:Villa%20Couleur%20K%E2%80%99F%C3%A9%20%E2%80%93%2045%20all%C3%A9e%20Jacquot%2C%2097430%20Saint-Pierre&location=Villa%20Couleur%20K%E2%80%99F%C3%A9%20%E2%80%93%2045%20all%C3%A9e%20Jacquot%2C%2097430%20Saint-Pierre&sf=true&output=xml" 
                       target="_blank" 
                       class="mt-2 py-2 px-4 bg-green-600 text-white font-bold rounded-full text-sm hover:bg-green-700 transition duration-300 flex items-center justify-center shadow-lg">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 00-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z" clip-rule="evenodd" />
                        </svg>
                        Ajouter à l'Agenda
                    </a>
                </div>
                
                <!-- Lieu et Bouton GPS (col-span-2) -->
                <div class="p-3 bg-white rounded-lg border border-red-400 col-span-2 flex flex-col justify-between">
                    <div>
                        <p class="text-red-800 font-bold flex items-center">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.828 0l-4.243-4.243a8 8 0 1111.314 0z" /><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z" /></svg>
                            Lieu :
                        </p>
                        <p class="text-gray-900 mb-2 font-semibold">Villa Couleur K’Fé</p>
                        <p class="text-xs text-gray-700 mb-2">45 allée Jacquot, 97430 Saint-Pierre</p>
                    </div>
                    
                    <!-- Bouton GPS animé par impulsion -->
                    <a href="https://maps.app.goo.gl/YhaGD6Hyk45LRgzE6" target="_blank" 
                       class="gps-button mt-2 py-2 px-4 bg-blue-600 text-white font-bold rounded-full text-sm hover:bg-blue-700 transition duration-300 flex items-center justify-center shadow-lg">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2" viewBox="0 0 20 20" fill="currentColor">
                            <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L9 9.414V14a1 1 0 102 0V9.414l1.293 1.293a1 1 0 001.414-1.414z" clip-rule="evenodd" />
                        </svg>
                        Itinéraire GPS
                    </a>

                    <p class="text-xs italic mt-2 text-red-600">Merci de vous rendre directement sur place.</p>
                </div>

            </div>
            
            <!-- REMOVED: Section des Partenaires/Logos (Déplacée dans une Modal) -->
        </section>

        <!-- Program Schedule - Élément révélé au scroll -->
        <section class="p-6 reveal-hidden">
            <h2 class="text-2xl font-bold text-red-800 mb-4 border-b-2 border-red-500 pb-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2 text-yellow-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
                </svg>
                Programme de la Journée
            </h2>

            <!-- Schedule Items -->
            <div class="space-y-4">

                <!-- 8h30 – 9h30 : Petit déjeuner -->
                <div class="time-slot p-4 bg-gray-50 rounded-lg border-l-4 border-red-500 hover:bg-gray-100 transition duration-150 reveal-hidden clickable-item cursor-pointer"
                     data-time="8h30 – 9h30" 
                     data-title="Petit déjeuner d'accueil" 
                     data-details="Un moment d'échange convivial pour démarrer la journée tous ensemble avant le lancement des activités.">
                    <div class="w-28 font-extrabold text-red-800 flex-shrink-0">8h30 – 9h30</div>
                    <div>
                        <p class="font-semibold text-lg flex items-center">
                            <!-- Icône Petit-déjeuner / Tasse -->
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-red-500" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M18 8h1a4 4 0 0 1 0 8h-1"/>
                                <path d="M2 8h16v9a4 4 0 0 1-4 4H6a4 4 0 0 1-4-4V8z"/>
                                <line x1="6" x2="18" y1="2" y2="2"/>
                                <line x1="6" x2="18" y1="5" y2="5"/>
                            </svg>
                            Petit déjeuner d'accueil
                        </p>
                        <p class="text-sm text-gray-600">Moment d'échange convivial pour démarrer la journée.</p>
                    </div>
                </div>
                <p class="text-xs text-center text-gray-400 italic">-- 5 min de pause --</p>


                <!-- 9h35 – 10h05 : Yoga du rire -->
                <div class="time-slot p-4 bg-red-100 rounded-lg border-l-4 border-red-700 hover:bg-red-200 transition duration-150 reveal-hidden clickable-item cursor-pointer"
                     data-time="9h35 – 10h05"
                     data-title="Atelier Yoga du rire (Collectif)"
                     data-details="Une session dynamique de 30 minutes pour relâcher les tensions et booster votre énergie par le rire. Animé par Ahnolia et Mélissa BEDEL, coach de vie.">
                     <div class="w-28 font-extrabold text-red-800 flex-shrink-0">9h35 – 10h05</div>
                    <div>
                        <p class="font-semibold text-lg flex items-center">
                             <!-- Icône Rire / Smiley -->
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-red-700" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <circle cx="12" cy="12" r="10"/>
                                <path d="M12 17a5 5 0 0 1-5-5 5 5 0 0 1 10 0 5 5 0 0 1-5 5z"/>
                            </svg>
                            Atelier Yoga du rire
                        </p>
                        <p class="text-sm text-red-700 italic">Collectif (30 min)</p>
                        <p class="text-xs text-gray-700">Animé par **Ahnolia** et **Mélissa BEDEL**, coach de vie.</p>
                    </div>
                </div>
                <p class="text-xs text-center text-gray-400 italic">-- 5 min de pause --</p>

                <!-- 10h10 – 11h40 : Ateliers en rotation -->
                <div class="p-4 bg-green-50 rounded-lg border-l-4 border-green-700 shadow-md reveal-hidden clickable-item cursor-pointer"
                     data-time="10h10 – 11h40"
                     data-title="Ateliers Créatifs en Rotation"
                     data-details="Les participants seront répartis en deux groupes pour découvrir deux activités créatives de 45 minutes chacune :
                     1. **Composition de bouquets de Noël** avec Patricia Fleurs.
                     2. **Création de bougies parfumées de Noël** avec Les Savons dans ma Bulle.
                     Un système de roulement est prévu pour que chaque participant accède aux deux activités.">
                    <div class="font-extrabold text-green-900 mb-2 text-lg flex items-center">
                         <!-- Icône Ateliers Créatifs (Palette) -->
                         <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-green-700" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M12 19V7M5 12h14M8 15l-3-3 3-3M16 9l3 3-3 3"/>
                        </svg>
                        10h10 – 11h40 : Ateliers en Rotation (Groupes)
                    </div>
                    <p class="text-sm mb-3 text-gray-700 italic font-semibold flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 inline-block mr-1 text-green-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.836 5l1.547-2m-6.046 2L9 10m5.955 4l1.493-2.986M9 10h-2m-7 0h2m7 0h2" />
                        </svg>
                        Un système de roulement est prévu pour que chaque participant accède aux deux activités.
                    </p>

                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm">
                        <div class="p-3 bg-white rounded-md border-2 border-green-400 shadow-sm">
                            <p class="font-semibold text-gray-800 flex items-center">
                                <!-- Icône Fleurs -->
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 text-green-600" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M12 2v20M17 12H7M15 7s1 5-3 5-3-5-3-5M9 17s1-5 3-5 3 5 3 5"/>
                                </svg>
                                Atelier Composition de bouquets de Noël</p>
                            <p class="text-xs text-gray-600">Animé par **Patricia Fleurs**.</p>
                        </div>
                        <div class="p-3 bg-white rounded-md border-2 border-green-400 shadow-sm">
                            <p class="font-semibold text-gray-800 flex items-center">
                                <!-- Icône Bougie -->
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1 text-green-600" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M9 19H7a2 2 0 0 1-2-2V7a2 2 0 0 1 2-2h2M17 19h2a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-2M15 22V2m-3 20V2m-3 0v20"/>
                                    <path d="M12 5h.01M12 9h.01M12 13h.01M12 17h.01"/>
                                </svg>
                                Atelier Création de bougies parfumées</p>
                            <p class="text-xs text-gray-600">Avec **Les Savons dans ma Bulle**.</p>
                        </div>
                    </div>
                </div>
                <p class="text-xs text-center text-gray-400 italic">-- 5 min de pause --</p>


                <!-- 11h20 – 12h00 : Cocktail de Noël -->
                <div class="time-slot p-4 bg-red-100 rounded-lg border-l-4 border-red-700 hover:bg-red-200 transition duration-150 reveal-hidden clickable-item cursor-pointer"
                     data-time="11h20 – 12h00"
                     data-title="Atelier Cocktail de Noël (Collectif)"
                     data-details="Découvrez l'art de la mixologie festive et préparez ensemble un cocktail (avec ou sans alcool) aux saveurs de Noël.">
                    <div class="w-28 font-extrabold text-red-800 flex-shrink-0">11h20 – 12h00</div>
                    <div>
                        <p class="font-semibold text-lg flex items-center">
                            <!-- Icône Cocktail -->
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-red-700" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M12 22a7 7 0 0 0 7-7c0-3.87-3.87-7-7-7s-7 3.13-7 7a7 7 0 0 0 7 7z"/>
                                <path d="M12 15h.01"/>
                                <path d="M12 12V2"/>
                                <path d="M16 5l-4-3-4 3"/>
                            </svg>
                            Atelier Cocktail de Noël
                        </p>
                        <p class="text-sm text-red-700 italic">Collectif (40 min)</p>
                    </div>
                </div>
                <p class="text-xs text-center text-gray-400 italic">-- 5 min de pause --</p>


                <!-- 12h00 – 14h00 : Déjeuner -->
                <div class="time-slot p-4 bg-gray-50 rounded-lg border-l-4 border-red-500 hover:bg-gray-100 transition duration-150 reveal-hidden clickable-item cursor-pointer"
                     data-time="12h00 – 14h00"
                     data-title="Déjeuner de Fête"
                     data-details="Un repas gourmand et convivial pour célébrer l'esprit de fin d'année, rythmé par l'ambiance musicale assurée par le Trio Métiss.">
                    <div class="w-28 font-extrabold text-red-800 flex-shrink-0">12h00 – 14h00</div>
                    <div>
                        <p class="font-semibold text-lg flex items-center">
                            <!-- Icône Repas / Assiette -->
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-red-500" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M15 11V5a3 3 0 0 0-3-3v0a3 3 0 0 0-3 3v6"/>
                                <path d="M8 15h8"/>
                                <path d="M12 21a9 9 0 0 0 0-18"/>
                                <path d="M12 21a9 9 0 0 1 0-18"/>
                            </svg>
                            Déjeuner de Fête
                        </p>
                        <p class="text-sm text-gray-600">Ambiance musicale assurée par le **Trio Métiss**.</p>
                    </div>
                </div>

                <!-- 14h00 – 16h00 : Après-midi récréative -->
                <div class="time-slot p-4 bg-blue-100 rounded-lg border-l-4 border-blue-600 hover:bg-blue-200 transition duration-150 reveal-hidden clickable-item cursor-pointer"
                     data-time="14h00 – 16h00"
                     data-title="Après-midi Détente & Divertissement"
                     data-details="Profitez de deux heures de loisirs : Karaoké, accès libre à la piscine (pensez à votre maillot!) et un Blind Test Musical pour tester vos connaissances.">
                    <div class="w-28 font-extrabold text-blue-800 flex-shrink-0">14h00 – 16h00</div>
                    <div>
                        <p class="font-semibold text-lg flex items-center">
                            <!-- Icône Détente / Loisirs -->
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 text-blue-700" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M18 10a8 8 0 0 0-16 0V5a2 2 0 0 1 2-2h3"/>
                                <path d="M12 21.5V10M17 14h-10a5 5 0 0 1-5-5V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v5a5 5 0 0 1-5 5z"/>
                            </svg>
                            Après-midi Détente & Divertissement
                        </p>
                        <p class="text-sm text-gray-700">Karaoké, accès à la piscine et Blind Test Musical.</p>
                    </div>
                </div>
            </div>
            
            <!-- 16h00 : Fin (Non-cliquable) -->
            <div class="time-slot p-4 bg-gray-200 rounded-lg border-l-4 border-gray-500 reveal-hidden mt-4">
                <div class="w-28 font-bold text-gray-800 flex-shrink-0">16h00</div>
                <div>
                    <p class="font-semibold text-xl text-gray-900">Fin de la Journée QVT</p>
                </div>
            </div>
        </section>

        <!-- SECTION : Remerciements Spéciaux -->
        <section class="p-6 thank-you-section reveal-hidden">
            <h3 class="text-xl font-bold mb-4 text-orange-700 flex items-center border-b border-orange-300 pb-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-orange-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z" />
                </svg>
                Remerciements Spéciaux aux Intervenants
            </h3>
            <p class="text-gray-700 mb-4 italic">Notre journée ne serait pas possible sans l'engagement et l'expertise de nos animateurs. Un immense merci à :</p>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                
                <!-- 1. Yoga du Rire -->
                <div class="p-4 rounded-lg shadow-sm thank-you-item flex items-start">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3 text-red-600 flex-shrink-0 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                    <div>
                        <p class="font-bold text-gray-900">Ahnolia et Mélissa BEDEL</p>
                        <p class="text-sm text-gray-600">Pour la session énergisante de **Yoga du Rire**.</p>
                    </div>
                </div>

                <!-- 2. Bouquets de Noël -->
                <div class="p-4 rounded-lg shadow-sm thank-you-item flex items-start">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3 text-green-600 flex-shrink-0 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z" />
                    </svg>
                    <div>
                        <p class="font-bold text-gray-900">Patricia Fleurs</p>
                        <p class="text-sm text-gray-600">Pour l'atelier créatif de **Composition de bouquets de Noël**.</p>
                    </div>
                </div>

                <!-- 3. Bougies Parfumées -->
                <div class="p-4 rounded-lg shadow-sm thank-you-item flex items-start">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3 text-red-600 flex-shrink-0 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M13 10V3L4 14h7v7l9-11h-7z" />
                    </svg>
                    <div>
                        <p class="font-bold text-gray-900">Les Savons dans ma Bulle</p>
                        <p class="text-sm text-gray-600">Pour la création artisanale de **bougies parfumées**.</p>
                    </div>
                </div>

                <!-- 4. Trio Métiss -->
                <div class="p-4 rounded-lg shadow-sm thank-you-item flex items-start">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3 text-blue-600 flex-shrink-0 mt-1" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                        <path stroke-linecap="round" stroke-linejoin="round" d="M9 19V6a2 2 0 012-2h2a2 2 0 012 2v13M9 19H7a2 2 0 00-2 2h14a2 2 0 00-2-2h-2M9 19a2 2 0 00-2 2h10a2 2 0 00-2-2m-8-7h.01M16 12h.01" />
                    </svg>
                    <div>
                        <p class="font-bold text-gray-900">Trio Métiss</p>
                        <p class="text-sm text-gray-600">Pour l'ambiance musicale de notre **déjeuner de fête**.</p>
                    </div>
                </div>
            </div>

        </section>

        <!-- À Prévoir (Festive Green Footer) -->
        <section class="p-6 bg-green-700 text-white reveal-hidden">
            <h3 class="text-xl font-bold mb-2 flex items-center">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 inline-block mr-2 text-yellow-300" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 13l-3 3m0 0l-3-3m3 3V8m0 0a2 2 0 100-4 2 2 0 000 4z" />
                </svg>
                À Prévoir
            </h3>
            <ul class="list-disc pl-5 text-sm">
                <li>Toutes les activités sont prévues sur place (pas de déplacement externe).</li>
                <li>N'oubliez pas d'apporter **un tapis ou une serviette** pour l’atelier Yoga du rire.</li>
                <li>Si vous prévoyez de profiter de l'accès à la piscine l'après-midi, n'oubliez pas votre maillot de bain.</li>
            </ul>
        </section>

        <!-- Pied de page de droit d'auteur (nouveau) - CLICkABLE -->
        <footer id="openPartnersModalBtn" class="footer-style rounded-b-xl cursor-pointer hover:bg-zinc-800 transition duration-300">
            <!-- Flèche animée -->
            <span class="pulsing-arrow mr-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
                </svg>
            </span>
            <span>© 2025 Tous droits réservés | Destination Sud Réunion</span>
        </footer>

    </div>

    <!-- Modal de Détails (Zoom) - Structure inchangée -->
    <div id="detailModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden transition-opacity duration-300">
        <div class="bg-white rounded-xl shadow-2xl max-w-lg w-full transform transition-all duration-300 scale-95 md:scale-100">
            <div class="p-6">
                <div class="flex justify-between items-start mb-4 border-b pb-2">
                    <h3 id="modalTitle" class="text-2xl font-extrabold text-red-800"></h3>
                    <button id="closeModalBtn" class="text-gray-500 hover:text-gray-800 p-2 rounded-full transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
                <p id="modalTime" class="text-lg font-semibold text-gray-600 mb-3"></p>
                <p id="modalDetails" class="text-gray-700 whitespace-pre-wrap leading-relaxed"></p>
            </div>
            <div class="p-4 bg-gray-50 rounded-b-xl">
                <p class="text-xs text-gray-500 italic text-center">Cliquez en dehors de cette fenêtre, sur la croix ou appuyez sur ESC pour fermer.</p>
            </div>
        </div>
    </div>
    
    <!-- Modal de Partage (QR Code) -->
    <div id="shareModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden transition-opacity duration-300">
        <div class="bg-white rounded-xl shadow-2xl max-w-sm w-full transform transition-all duration-300 scale-95 md:scale-100">
            <div class="p-6">
                <div class="flex justify-between items-start mb-4 border-b pb-2">
                    <h3 class="text-xl font-bold text-red-800 flex items-center">
                         <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-red-500" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M8.684 13.342C8.88 12.03 9.388 10.718 10.35 9.75a4.008 4.008 0 011.424-1.424c1.062-.39 2.14-.523 3.23-.423m-2.427 1.139a.75.75 0 00-1.06-1.06L6 18H3.75a.75.75 0 000 1.5h1.75a.75.75 0 00.56-.25L13.8 11.23a.75.75 0 00-.54-.23zM21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                        </svg>
                        Partager le Programme
                    </h3>
                    <button id="closeShareModalBtn" class="text-gray-500 hover:text-gray-800 p-2 rounded-full transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
                <p class="text-center text-gray-700 mb-4 font-semibold">Scannez ce QR Code pour accéder au programme :</p>
                <div id="qrcode" class="flex justify-center p-4 border-4 border-red-200 rounded-xl bg-white">
                    <!-- Le QR Code (Canvas) sera généré ici -->
                </div>
                <p class="text-center text-xs text-gray-500 mt-4 break-all italic">Lien: https://kaporalclems.github.io/Journ-e-QVT-Dsr_2025/</p>
            </div>
            <div class="p-4 bg-gray-50 rounded-b-xl">
                <p class="text-xs text-gray-500 italic text-center">Compatible sur tous les smartphones.</p>
            </div>
        </div>
    </div>
    
    <!-- Modal des Partenaires -->
    <div id="partnersModal" class="fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center p-4 z-50 hidden transition-opacity duration-300">
        <div class="bg-white rounded-xl shadow-2xl max-w-lg w-full transform transition-all duration-300 scale-95 md:scale-100">
            <div class="p-6">
                <div class="flex justify-between items-start mb-4 border-b pb-2">
                    <h3 class="text-2xl font-bold text-red-800 flex items-center">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-2 text-yellow-500" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M17.657 18.657A8 8 0 017.343 5.343l1.414 1.414a6 6 0 108.484 8.484l1.414 1.414zm-1.414 1.414L10 10m6.364 6.364L10 10"/>
                        </svg>
                        Nos Partenaires
                    </h3>
                    <button id="closePartnersModalBtn" class="text-gray-500 hover:text-gray-800 p-2 rounded-full transition-colors">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>
                    </button>
                </div>
                
                <!-- Contenu des Partenaires -->
                <p class="text-gray-700 mb-6 text-center">Un grand merci à ceux qui contribuent à cette journée exceptionnelle.</p>

                <!-- 
                    Grille ajustée pour 3 colonnes sur desktop (lg:grid-cols-3) pour centrer les 3 logos.
                -->
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8 items-center justify-items-center p-6 bg-gray-50 rounded-lg border border-red-200">
                    
                    <!-- Logo 1: Destination Sud Réunion (MODIFIÉ) -->
                    <div class="w-full max-w-[200px] h-auto">
                        <a href="https://srias.re/" target="_blank" title="Visiter le site Destination Sud Réunion">
                            <img 
                                src="https://www.sudreuniontourisme.fr/fileadmin/user_upload/Sud/logo2.png" 
                                alt="[Image du logo DSR]" 
                                class="w-full h-auto object-contain transition duration-300 transform hover:scale-105"
                                onerror="this.onerror=null; this.src='https://placehold.co/200x80/FFCDD2/D32F2F?text=DSR+Logo'"
                            >
                        </a>
                    </div>
                    
                    <!-- Logo 2: Villa Couleur Kfe -->
                    <div class="w-full max-w-[200px] h-auto">
                        <a href="https://couleurs-kfe.com/" target="_blank" title="Visiter le site Villa Couleur K’Fé">
                            <img 
                                src="https://couleurs-kfe.com/wp-content/uploads/2024/07/Kfe1.jpg" 
                                alt="[Image du logo Villa Couleur K’Fé]" 
                                class="w-full h-auto object-contain transition duration-300 transform hover:scale-105"
                                onerror="this.onerror=null; this.src='https://placehold.co/200x80/C8E6C9/388E3C?text=Couleur+Kfe+Logo'"
                            >
                        </a>
                    </div>
                    
                    <!-- Logo 3: Emulsion Cocktails -->
                    <div class="w-full max-w-[200px] h-auto">
                        <a href="https://emulsion-cocktails.re/" target="_blank" title="Visiter le site Emulsion Cocktails">
                            <img 
                                src="https://emulsion-cocktails.re/wp-content/uploads/2025/07/Emulsion_Logo_horizontal_Colo_2.png" 
                                alt="[Image du logo Emulsion Cocktails]" 
                                class="w-full h-auto object-contain transition duration-300 transform hover:scale-105"
                                onerror="this.onerror=null; this.src='https://placehold.co/200x80/B3E5FC/0277BD?text=Emulsion+Cocktails'"
                            >
                        </a>
                    </div>
                </div>
            </div>
            <div class="p-4 bg-gray-50 rounded-b-xl">
                <p class="text-xs text-gray-500 italic text-center">Cliquez sur un logo pour visiter le site de notre partenaire.</p>
            </div>
        </div>
    </div>


    <script>
        // URL à encoder dans le QR code
        const QR_CODE_URL = "https://kaporalclems.github.io/Journ-e-QVT-Dsr_2025/";
        let qrcodeInstance = null; // Variable pour stocker l'instance du QR code

        // --- Carousel Logic ---
        const startCarousel = () => {
            const track = document.getElementById('carouselTrack');
            const dotsContainer = document.getElementById('carouselDots');
            const slides = document.querySelectorAll('.carousel-slide');
            const totalSlides = slides.length;
            let currentIndex = 0;
            const intervalTime = 5000; // 5 secondes par slide
            let carouselInterval;

            if (totalSlides === 0) return;

            // 1. Création des points de navigation
            slides.forEach((_, index) => {
                const dot = document.createElement('button');
                dot.classList.add('w-3', 'h-3', 'rounded-full', 'bg-white', 'bg-opacity-50', 'hover:bg-opacity-80', 'transition', 'duration-300');
                dot.setAttribute('aria-label', `Go to slide ${index + 1}`);
                dot.addEventListener('click', () => {
                    goToSlide(index);
                    resetInterval();
                });
                dotsContainer.appendChild(dot);
            });

            const dots = dotsContainer.querySelectorAll('button');

            // 2. Fonctions de Navigation
            const updateDots = () => {
                dots.forEach((dot, index) => {
                    dot.classList.remove('bg-opacity-100');
                    if (index === currentIndex) {
                        dot.classList.add('bg-opacity-100');
                    }
                });
            };

            const goToSlide = (index) => {
                if (index < 0) {
                    currentIndex = totalSlides - 1;
                } else if (index >= totalSlides) {
                    currentIndex = 0;
                } else {
                    currentIndex = index;
                }
                const offset = -currentIndex * 100;
                track.style.transform = `translateX(${offset}%)`;
                updateDots();
            };

            const nextSlide = () => {
                goToSlide(currentIndex + 1);
            };

            // 3. Logique d'Auto-play
            const startInterval = () => {
                carouselInterval = setInterval(nextSlide, intervalTime);
            };

            const resetInterval = () => {
                clearInterval(carouselInterval);
                startInterval();
            };

            // État initial
            updateDots();
            startInterval();
        };

        document.addEventListener('DOMContentLoaded', () => {
            
            // Démarrage du Carousel
            startCarousel();

            // --- 1. Animation de Révélation au Scroll (Intersection Observer) ---
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('reveal-visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, {
                rootMargin: '0px 0px -15% 0px',
                threshold: 0.15 
            });

            const hiddenElements = document.querySelectorAll('.reveal-hidden');
            hiddenElements.forEach(el => {
                observer.observe(el);
            });


            // --- 2. Animation Manuscrite du Titre (SVG Stroke) via Temps) ---
            
            /**
             * Anime le dessin d'un chemin de texte SVG.
             * @param {string} id L'ID de l'élément <text> SVG.
             * @param {number} startDelayMS Le délai avant le début du dessin (ms).
             * @param {number} fillDelayMS Le délai, après le début du dessin, pour commencer le remplissage (ms).
             */
            const animateTitle = (id, startDelayMS, fillDelayMS) => {
                const textPath = document.getElementById(id);
                if (!textPath) return;

                // Tente de calculer la longueur du chemin (nécessaire pour l'effet d'écriture)
                let length = textPath.getTotalLength ? textPath.getTotalLength() : 2000;
                if (length === 0) length = 2000; 

                // 1. Initialiser l'état masqué du trait (stroke-dashoffset initial)
                textPath.style.strokeDasharray = length;
                textPath.style.strokeDashoffset = length;

                // 2. Démarre l'animation du trait (stroke-dashoffset: 0)
                setTimeout(() => {
                    textPath.classList.add('drawn');
                    
                    // 3. Révéler le remplissage après le délai spécifié
                    setTimeout(() => {
                        textPath.classList.add('filled');
                    }, fillDelayMS); 

                }, startDelayMS); 
            };

            // Ligne 1 : "Journée Qualité de Vie au Travail" 
            animateTitle('svg-title-1', 500, 1800); 
            
            // Ligne 2 : "Édition de Fin d'Année" 
            animateTitle('svg-title-2', 3000, 1500); 

            // --- 3. Gestion de la Modal de Zoom (Détails du Programme) ---
            const detailModal = document.getElementById('detailModal');
            const modalTitle = document.getElementById('modalTitle');
            const modalTime = document.getElementById('modalTime');
            const modalDetails = document.getElementById('modalDetails');
            const closeModalBtn = document.getElementById('closeModalBtn');
            const clickableItems = document.querySelectorAll('.clickable-item');

            const openDetailModal = (time, title, details) => {
                modalTime.textContent = time;
                modalTitle.textContent = title;
                modalDetails.innerHTML = details.replace(/\n/g, '<br>'); 
                detailModal.classList.remove('hidden');
                document.body.style.overflow = 'hidden'; 
            };

            const closeDetailModal = () => {
                detailModal.classList.add('hidden');
                document.body.style.overflow = ''; 
            };

            clickableItems.forEach(item => {
                item.addEventListener('click', () => {
                    const time = item.dataset.time || 'Non spécifié';
                    const title = item.dataset.title || 'Détails de l\'activité';
                    const details = item.dataset.details || 'Aucune description détaillée disponible.';
                    openDetailModal(time, title, details);
                });
            });

            closeModalBtn.addEventListener('click', closeDetailModal);
            detailModal.addEventListener('click', (e) => {
                if (e.target === detailModal) {
                    closeDetailModal();
                }
            });

            // --- 4. Gestion de la Modal de Partage (QR Code) ---
            const shareModal = document.getElementById('shareModal');
            const openShareModalBtn = document.getElementById('openShareModalBtn');
            const closeShareModalBtn = document.getElementById('closeShareModalBtn');

            const generateQRCode = () => {
                const qrcodeContainer = document.getElementById('qrcode');
                
                if (qrcodeInstance) return;

                qrcodeContainer.innerHTML = ''; 

                qrcodeInstance = new QRCode(qrcodeContainer, {
                    text: QR_CODE_URL,
                    width: 200,
                    height: 200,
                    colorDark : "#880000", 
                    colorLight : "#ffffff",
                    correctLevel : QRCode.CorrectLevel.H
                });
            };

            const openShareModal = () => {
                shareModal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
                if (!qrcodeInstance) {
                    setTimeout(generateQRCode, 10); 
                }
            };

            const closeShareModal = () => {
                shareModal.classList.add('hidden');
                document.body.style.overflow = '';
            };

            openShareModalBtn.addEventListener('click', openShareModal);
            closeShareModalBtn.addEventListener('click', closeShareModal);
            
            shareModal.addEventListener('click', (e) => {
                if (e.target === shareModal) {
                    closeShareModal();
                }
            });
            
            // --- 5. Gestion de la Modal des Partenaires ---
            const partnersModal = document.getElementById('partnersModal');
            const openPartnersModalBtn = document.getElementById('openPartnersModalBtn');
            const closePartnersModalBtn = document.getElementById('closePartnersModalBtn');

            const openPartnersModal = () => {
                partnersModal.classList.remove('hidden');
                document.body.style.overflow = 'hidden';
            };

            const closePartnersModal = () => {
                partnersModal.classList.add('hidden');
                document.body.style.overflow = '';
            };

            openPartnersModalBtn.addEventListener('click', openPartnersModal);
            closePartnersModalBtn.addEventListener('click', closePartnersModal);
            
            partnersModal.addEventListener('click', (e) => {
                if (e.target === partnersModal) {
                    closePartnersModal();
                }
            });

            // Fermer avec la touche ESC
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape') {
                    if (!detailModal.classList.contains('hidden')) {
                        closeDetailModal();
                    }
                    if (!shareModal.classList.contains('hidden')) {
                        closeShareModal();
                    }
                    if (!partnersModal.classList.contains('hidden')) {
                        closePartnersModal();
                    }
                }
            });
        });
    </script>
</body>
</html>
